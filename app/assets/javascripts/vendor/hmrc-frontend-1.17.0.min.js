!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define("HMRCFrontend",t):e.HMRCFrontend=t()}(this,function(){"use strict";var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function e(e,t){return e(t={exports:{}},t.exports),t.exports}e(function(e,t){(function(e){var s,c,u,l;"defineProperty"in Object&&function(){try{return Object.defineProperty({},"test",{value:42}),!0}catch(e){return!1}}()||(s=Object.defineProperty,c=Object.prototype.hasOwnProperty("__defineGetter__"),u="Getters & setters cannot be defined on this javascript engine",l="A property cannot both have accessors and be writable or have a value",Object.defineProperty=function(e,t,n){if(s&&(e===window||e===document||e===Element.prototype||e instanceof Element))return s(e,t,n);if(null===e||!(e instanceof Object||"object"==typeof e))throw new TypeError("Object.defineProperty called on non-object");if(!(n instanceof Object))throw new TypeError("Property description must be an object");var i=String(t),o="value"in n||"writable"in n,r="get"in n&&typeof n.get,a="set"in n&&typeof n.set;if(r){if("function"!==r)throw new TypeError("Getter must be a function");if(!c)throw new TypeError(u);if(o)throw new TypeError(l);Object.__defineGetter__.call(e,i,n.get)}else e[i]=n.value;if(a){if("function"!==a)throw new TypeError("Setter must be a function");if(!c)throw new TypeError(u);if(o)throw new TypeError(l);Object.__defineSetter__.call(e,i,n.set)}return"value"in n&&(e[i]=n.value),e})}).call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof n&&n||{})}),e(function(e,t){(function(e){var s,c,u,l;"defineProperty"in Object&&function(){try{return Object.defineProperty({},"test",{value:42}),!0}catch(e){return!1}}()||(s=Object.defineProperty,c=Object.prototype.hasOwnProperty("__defineGetter__"),u="Getters & setters cannot be defined on this javascript engine",l="A property cannot both have accessors and be writable or have a value",Object.defineProperty=function(e,t,n){if(s&&(e===window||e===document||e===Element.prototype||e instanceof Element))return s(e,t,n);if(null===e||!(e instanceof Object||"object"==typeof e))throw new TypeError("Object.defineProperty called on non-object");if(!(n instanceof Object))throw new TypeError("Property description must be an object");var i=String(t),o="value"in n||"writable"in n,r="get"in n&&typeof n.get,a="set"in n&&typeof n.set;if(r){if("function"!==r)throw new TypeError("Getter must be a function");if(!c)throw new TypeError(u);if(o)throw new TypeError(l);Object.__defineGetter__.call(e,i,n.get)}else e[i]=n.value;if(a){if("function"!==a)throw new TypeError("Setter must be a function");if(!c)throw new TypeError(u);if(o)throw new TypeError(l);Object.__defineSetter__.call(e,i,n.set)}return"value"in n&&(e[i]=n.value),e})}).call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof n&&n||{}),function(e){"bind"in Function.prototype||Object.defineProperty(Function.prototype,"bind",{value:function(t){function e(){}var n=Array,i=Object,o=i.prototype,r=n.prototype,a=o.toString,s="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,c=Function.prototype.toString,u=function(e){if("function"!=typeof e)return!1;if(s)return function(e){try{return c.call(e),!0}catch(e){return!1}}(e);var t=a.call(e);return"[object Function]"===t||"[object GeneratorFunction]"===t},l=r.slice,d=r.concat,h=r.push,p=Math.max,f=this;if(!u(f))throw new TypeError("Function.prototype.bind called on incompatible "+f);for(var m,b=l.call(arguments,1),v=p(0,f.length-b.length),y=[],w=0;w<v;w++)h.call(y,"$"+w);return m=Function("binder","return function ("+y.join(",")+"){ return binder.apply(this, arguments); }")(function(){if(this instanceof m){var e=f.apply(this,d.call(b,l.call(arguments)));return i(e)===e?e:this}return f.apply(t,d.call(b,l.call(arguments)))}),f.prototype&&(e.prototype=f.prototype,m.prototype=new e,e.prototype=null),m}})}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof n&&n||{})});(function(e){var a,s,c,t,u,n,l,d;function i(e){try{return(e.sentinel=0)===Object.getOwnPropertyDescriptor(e,"sentinel").value}catch(e){}}"getOwnPropertyDescriptor"in Object&&"function"==typeof Object.getOwnPropertyDescriptor&&function(){try{var e={test:0};return 0===Object.getOwnPropertyDescriptor(e,"test").value}catch(e){return!1}}()||(n=Function.prototype.call,l=Object.prototype,d=n.bind(l.hasOwnProperty),(c=d(l,"__defineGetter__"))&&(a=n.bind(l.__lookupGetter__),s=n.bind(l.__lookupSetter__)),Object.defineProperty&&(t=i({}),("undefined"==typeof document||i(document.createElement("div")))&&t||(u=Object.getOwnPropertyDescriptor)),Object.getOwnPropertyDescriptor&&!u||(Object.getOwnPropertyDescriptor=function(e,t){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError("Object.getOwnPropertyDescriptor called on a non-object: "+e);if(u)try{return u.call(Object,e,t)}catch(e){}if(d(e,t)){var n={enumerable:!0,configurable:!0};if(c){var i=e.__proto__;e.__proto__=l;var o=a(e,t),r=s(e,t);if(e.__proto__=i,o||r)return o&&(n.get=o),r&&(n.set=r),n}return n.value=e[t],n.writable=!0,n}}))}).call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof n&&n||{});e(function(e,t){(function(e){"Document"in this||"undefined"==typeof WorkerGlobalScope&&"function"!=typeof importScripts&&(this.HTMLDocument?this.Document=this.HTMLDocument:(this.Document=this.HTMLDocument=document.constructor=new Function("return function Document() {}")(),this.Document.prototype=document))}).call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof n&&n||{})}),e(function(e,t){(function(e){"Document"in this||"undefined"==typeof WorkerGlobalScope&&"function"!=typeof importScripts&&(this.HTMLDocument?this.Document=this.HTMLDocument:(this.Document=this.HTMLDocument=document.constructor=new Function("return function Document() {}")(),this.Document.prototype=document))}).call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof n&&n||{}),function(e){var t,n,s,c,u,l,i,o,r;function a(){return r--||clearTimeout(o),!(!document.body||document.body.prototype||!/(complete|interactive)/.test(document.readyState))&&(u(document,!0),o&&document.body.prototype&&clearTimeout(o),!!document.body.prototype)}"Element"in this&&"HTMLElement"in this||(!window.Element||window.HTMLElement?(window.Element=window.HTMLElement=new Function("return function Element() {}")(),n=(t=document.appendChild(document.createElement("body"))).appendChild(document.createElement("iframe")).contentWindow.document,s=Element.prototype=n.appendChild(n.createElement("*")),c={},u=function(e,t){var n,i,o,r=e.childNodes||[],a=-1;if(1===e.nodeType&&e.constructor!==Element)for(n in e.constructor=Element,c)i=c[n],e[n]=i;for(;o=t&&r[++a];)u(o,t);return e},l=document.getElementsByTagName("*"),i=document.createElement,r=100,s.attachEvent("onpropertychange",function(e){for(var t,n=e.propertyName,i=!c.hasOwnProperty(n),o=s[n],r=c[n],a=-1;t=l[++a];)1===t.nodeType&&(!i&&t[n]!==r||(t[n]=o));c[n]=o}),s.constructor=Element,s.hasAttribute||(s.hasAttribute=function(e){return null!==this.getAttribute(e)}),a()||(document.onreadystatechange=a,o=setInterval(a,25)),document.createElement=function(e){var t=i(String(e).toLowerCase());return u(t)},document.removeChild(t)):window.HTMLElement=window.Element)}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof n&&n||{})});(function(e){var s;function t(e,t,n){var i,o,r=document.createElement("div"),a="qsa"+String(Math.random()).slice(3);return r.innerHTML="x<style>"+t+"{qsa:"+a+";}",i=s.appendChild(r.lastChild),o=function e(t,n,i,o){var r,a=/1|9/.test(t.nodeType),s=t.childNodes,c=[],u=-1;if(a&&t.currentStyle&&t.currentStyle.qsa===o&&c.push(t)&&i)return c;for(;r=s[++u];)if(c=c.concat(e(r,n,i,o)),i&&c.length)return c;return c}(e,t,n,a),s.removeChild(i),n?o[0]:o}"document"in this&&"querySelector"in this.document||(s=document.getElementsByTagName("head")[0],Document.prototype.querySelector=Element.prototype.querySelector=function(e){return t(this,e,!0)},Document.prototype.querySelectorAll=Element.prototype.querySelectorAll=function(e){return t(this,e,!1)})}).call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{}),function(e){!function(){if(document.documentElement.dataset){var e=document.createElement("div");e.setAttribute("data-a-b","c"),e.dataset&&e.dataset.aB}}(),Object.defineProperty(Element.prototype,"dataset",{get:function(){for(var e=this.attributes,t={},n=0;n<e.length;n++){var i,o,r,a=e[n];a&&a.name&&/^data-\w[\w\-]*$/.test(a.name)&&(i=a.name,o=a.value,r=i.substr(5).replace(/-./g,function(e){return e.charAt(1).toUpperCase()}),Object.defineProperty(t,r,{enumerable:this.enumerable,get:function(){return this.value}.bind({value:o||""}),set:function(e,t){void 0!==t?this.setAttribute(e,t):this.removeAttribute(e)}.bind(this,i)}))}return t}})}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{});var i={xs:0,mobile:320,tablet:641,desktop:769};function o(n){return Object.keys(i).reduce(function(e,t){return(n||window.innerWidth)>=i[t]?t:e})}function r(e){this.$module=document.querySelector(e),this.$moduleBottomMargin=this.$module.style.marginBottom,this.$mainNav=this.$module.querySelector(".hmrc-account-menu__main"),this.$subNav=this.$module.querySelector(".hmrc-subnav"),this.$showSubnavLink=this.$module.querySelector("#account-menu__main-2"),this.$showNavLinkMobile=this.$module.querySelector(".hmrc-account-menu__link--menu"),this.$backLink=this.$module.querySelector(".hmrc-account-menu__link--back a"),this.$currentBreakpoint=o()}function t(e){return e.innerWidth<=768}function d(e,t){if(window.NodeList.prototype.forEach)return e.forEach(t);for(var n=0;n<e.length;n++)t.call(window,e[n],n,e)}r.prototype.init=function(){var i,o,r,a;this.setup(),this.$showSubnavLink.addEventListener("click",this.eventHandlers.showSubnavLinkClick.bind(this)),this.$showSubnavLink.addEventListener("focusout",this.eventHandlers.showSubnavLinkFocusOut.bind(this)),this.$showSubnavLink.addEventListener("focusin",this.eventHandlers.showSubnavLinkFocusIn.bind(this)),this.$backLink.addEventListener("click",this.eventHandlers.backLinkClick.bind(this)),this.$subNav.addEventListener("focusout",this.eventHandlers.subNavFocusOut.bind(this)),this.$subNav.addEventListener("focusin",this.eventHandlers.subNavFocusIn.bind(this)),this.$showNavLinkMobile.addEventListener("click",this.eventHandlers.showNavLinkMobileClick.bind(this)),window.addEventListener("resize",(i=this.reinstantiate.bind(this),function(){var e=this,t=arguments,n=r&&!a;clearTimeout(a),a=setTimeout(function(){a=null,r||i.apply(e,t)},o),n&&i.apply(e,t)}))},r.prototype.reinstantiate=function(e){var t=o(e.target.innerWidth);this.$currentBreakpoint!==t&&(this.$currentBreakpoint=t,this.setup())},r.prototype.eventHandlers={showSubnavLinkClick:function(e){e.preventDefault(),e.stopPropagation(),t(window)?e.currentTarget.classList.contains("hmrc-account-menu__link--more-expanded")||(this.hideMainNavMobile(e.currentTarget),this.showSubnavMobile(e.currentTarget)):e.currentTarget.classList.contains("hmrc-account-menu__link--more-expanded")?this.hideSubnavDesktop():this.showSubnavDesktop()},showSubnavLinkFocusOut:function(e){t(window)||(this.$module.querySelector(e.target.hash).dataset.subMenuTimer=setTimeout(function(){},0))},showSubnavLinkFocusIn:function(e){t(window)||clearTimeout(this.$module.querySelector(e.target.hash).dataset.subMenuTimer)},backLinkClick:function(e){e.preventDefault(),this.$mainNav.classList.contains("hmrc-subnav-is-open")&&(this.hideSubnavMobile(),this.showMainNavMobile())},subNavFocusOut:function(e){t(window)||(e.currentTarget.dataset.subMenuTimer=setTimeout(this.hideSubnavDesktop.bind(this),0))},subNavFocusIn:function(e){clearTimeout(e.currentTarget.dataset.subMenuTimer)},showNavLinkMobileClick:function(e){e.preventDefault(),t(window)&&(this.$mainNav.classList.contains("hmrc-subnav-is-open")||this.$mainNav.classList.contains("main-nav-is-open")?(this.hideSubnavMobile(),this.hideMainNavMobile(e.currentTarget)):this.showMainNavMobile())}},r.prototype.setup=function(){this.$subNav.setAttribute("aria-hidden","true"),this.$subNav.setAttribute("tabindex","-1"),this.$showSubnavLink.setAttribute("aria-controls",this.$showSubnavLink.hash.substr(1)),this.$showSubnavLink.setAttribute("aria-expanded","false"),t(window)?(this.$module.classList.add("is-smaller"),this.$showNavLinkMobile.setAttribute("aria-hidden","false"),this.$showNavLinkMobile.removeAttribute("tabindex"),this.$showNavLinkMobile.classList.remove("js-hidden"),this.hideSubnavMobile(),this.hideMainNavMobile(this.$showNavLinkMobile)):(this.$module.classList.remove("is-smaller"),this.$mainNav.classList.remove("main-nav-is-open","js-hidden"),this.$subNav.classList.remove("js-hidden"),this.$showNavLinkMobile.setAttribute("aria-hidden","true"),this.$showNavLinkMobile.setAttribute("tabindex","-1"),this.$showNavLinkMobile.classList.add("js-hidden"))},r.prototype.showSubnavDesktop=function(){var e=this;this.$module.classList.add("hmrc-subnav-is-open"),this.$mainNav.classList.add("hmrc-subnav-is-open"),this.$subNav.classList.add("hmrc-subnav-reveal"),this.$subNav.setAttribute("aria-hidden","false"),this.$subNav.setAttribute("aria-expanded","true");var t=this.$subNav.offsetHeight;this.$module.style.marginBottom=t+"px",setTimeout(function(){e.$subNav.focus()},500),this.$showSubnavLink.classList.add("hmrc-account-menu__link--more-expanded"),this.$showSubnavLink.setAttribute("aria-hidden","false"),this.$showSubnavLink.setAttribute("aria-expanded","true")},r.prototype.hideSubnavDesktop=function(){this.$module.classList.remove("main-nav-is-open","hmrc-subnav-is-open"),this.$mainNav.classList.remove("hmrc-subnav-is-open"),this.$subNav.classList.remove("hmrc-subnav-reveal"),this.$subNav.setAttribute("aria-hidden","true"),this.$subNav.setAttribute("aria-expanded","false"),this.$showSubnavLink.classList.remove("hmrc-account-menu__link--more-expanded"),this.$showSubnavLink.setAttribute("aria-hidden","true"),this.$showSubnavLink.setAttribute("aria-expanded","false"),this.$module.style.marginBottom=this.$moduleBottomMargin},r.prototype.showMainNavMobile=function(){this.$mainNav.classList.remove("js-hidden"),this.$mainNav.classList.add("main-nav-is-open"),this.$mainNav.setAttribute("aria-expanded","true"),this.$showNavLinkMobile.setAttribute("aria-expanded","true"),this.$showNavLinkMobile.classList.add("hmrc-account-home--account--is-open")},r.prototype.hideMainNavMobile=function(e){this.$mainNav.classList.remove("main-nav-is-open"),this.$mainNav.setAttribute("aria-expanded","false"),e.classList.contains("hmrc-account-menu__link--menu")?(this.$mainNav.classList.remove("hmrc-subnav-is-open"),this.$mainNav.classList.add("js-hidden"),this.$showNavLinkMobile.setAttribute("aria-expanded","false"),this.$showNavLinkMobile.classList.remove("hmrc-account-home--account--is-open")):e.classList.contains("hmrc-account-menu__link--more")&&this.$mainNav.classList.add("hmrc-subnav-is-open")},r.prototype.showSubnavMobile=function(e){this.$module.classList.add("hmrc-subnav-is-open"),this.$mainNav.classList.remove("main-nav-is-open"),this.$mainNav.classList.add("hmrc-subnav-is-open"),this.$subNav.classList.remove("js-hidden"),this.$subNav.classList.add("hmrc-subnav-reveal"),this.$subNav.setAttribute("aria-hidden","false"),this.$subNav.setAttribute("aria-expanded","true"),this.$showSubnavLink.classList.add("hmrc-account-menu__link--more-expanded"),this.$showSubnavLink.setAttribute("aria-hidden","false"),this.$showSubnavLink.setAttribute("aria-expanded","true"),this.$backLink.parentNode.setAttribute("aria-hidden","false"),this.$backLink.removeAttribute("tabindex"),this.$backLink.parentNode.classList.remove("hidden"),e.parentNode.classList.add("active-subnav-parent");for(var t=e.parentNode.parentNode.children,n=0;n<t.length;n++){var i=t[n];i!==this.$backLink.parentNode&&i!==e.parentNode&&i.classList.add("hidden")}},r.prototype.hideSubnavMobile=function(){this.$module.classList.remove("hmrc-subnav-is-open"),this.$mainNav.classList.remove("hmrc-subnav-is-open"),this.$mainNav.classList.add("main-nav-is-open"),this.$subNav.classList.add("js-hidden"),this.$subNav.classList.remove("hmrc-subnav-reveal"),this.$subNav.setAttribute("aria-hidden","true"),this.$subNav.setAttribute("aria-expanded","false"),this.$showSubnavLink.classList.remove("hmrc-account-menu__link--more-expanded"),this.$showSubnavLink.setAttribute("aria-hidden","true"),this.$showSubnavLink.setAttribute("aria-expanded","false"),this.$backLink.parentNode.setAttribute("aria-hidden","true"),this.$backLink.setAttribute("tabindex","-1"),this.$backLink.parentNode.classList.add("hidden"),this.$showSubnavLink.parentNode.classList.remove("active-subnav-parent");for(var e=this.$backLink.parentNode.parentNode.children,t=0;t<e.length;t++){var n=e[t];n!==this.$backLink.parentNode&&n.classList.remove("hidden")}},function(s){"forEach"in Array.prototype||(Array.prototype.forEach=function(e,t){if(this===s||null===this)throw new TypeError(this+" is not an object");if("function"!=typeof e)throw new TypeError(e+" is not a function");for(var n=Object(this),i=t,o=n instanceof String?n.split(""):n,r=Math.max(Math.min(o.length,9007199254740991),0)||0,a=-1;++a<r;)a in o&&e.call(i,o[a],a,n)})}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof n&&n||{}),function(p){var f,m,e,b,v,y,t,w;function g(e){var t=e.constructor;return t&&t.prototype===e}"keys"in Object&&function(){return 2===Object.keys(arguments).length}(1,2)&&function(){try{return!0}catch(e){return!1}}()||(Object.keys=(f=Object.prototype.hasOwnProperty,m=Object.prototype.toString,e=Object.prototype.propertyIsEnumerable,b=!e.call({toString:null},"toString"),v=e.call(function(){},"prototype"),y=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],t={$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},w=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!t["$"+e]&&f.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{g(window[e])}catch(e){return!0}}catch(e){return!0}return!1}(),function(e){var t,n,i="[object Function]"===m.call(e),o=(t=e,"[object Arguments]"===(n=m.call(t))||"[object Array]"!==n&&null!==t&&"object"==typeof t&&"number"==typeof t.length&&0<=t.length&&"[object Function]"===m.call(t.callee)),r="[object String]"===m.call(e),a=[];if(e===p||null===e)throw new TypeError("Cannot convert undefined or null to object");var s=v&&i;if(r&&0<e.length&&!f.call(e,0))for(var c=0;c<e.length;++c)a.push(String(c));if(o&&0<e.length)for(var u=0;u<e.length;++u)a.push(String(u));else for(var l in e)s&&"prototype"===l||!f.call(e,l)||a.push(String(l));if(b)for(var d=function(e){if("undefined"==typeof window||!w)return g(e);try{return g(e)}catch(e){return!1}}(e),h=0;h<y.length;++h)d&&"constructor"===y[h]||!f.call(e,y[h])||a.push(y[h]);return a}))}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof n&&n||{}),function(h){function p(e){if(null===e||e===h)throw new TypeError("Cannot call method on "+e);return Object(e)}"assign"in Object||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var n=p(e);if(1===arguments.length)return n;for(var i,o=Array.prototype.slice.call(arguments,1),r=0;r<o.length;r++)for(var a=o[r],s=a===h||null===a?[]:(i=p(a),Object.keys(i)),c=0;c<s.length;c++){var u,l=s[c],d=Object.getOwnPropertyDescriptor(i,l);d!==h&&d.enumerable&&(u=i[l],n[l]=u)}return n}})}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{}),function(e){"Date"in this&&"now"in this.Date&&"getTime"in this.Date.prototype||(Date.now=function(){return(new Date).getTime()})}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof n&&n||{});var h={generateDomElementFromString:function(e){var t=document.createElement("div");return t.innerHTML=e,t.firstChild},generateDomElementFromStringAndAppendText:function(e,t){var n=h.generateDomElementFromString(e);return n.innerText=t,n},hasClass:function(e,t){return document.querySelector(e).classList.contains(t)},addClass:function(e,t){d(document.querySelectorAll(e),function(e){e.classList.add(t)})},removeClass:function(e,t){d(document.querySelectorAll(e),function(e){e.classList.remove(t)})},removeElement:function(e){var t=e.parentNode;t?t.removeChild(e):console.warn("couldn't find parent for elem",e)},ajaxGet:function(e,t){var n=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");return n.open("GET",e),n.onreadystatechange=function(){3<n.readyState&&200===n.status&&t(n.responseText)},n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.send(),n}};var b={displayDialog:function(e){var t,n=h.generateDomElementFromString('<div id="hmrc-timeout-dialog" tabindex="-1" role="dialog" class="hmrc-timeout-dialog">'),i=h.generateDomElementFromString('<div id="hmrc-timeout-overlay" class="hmrc-timeout-overlay">'),o="string"==typeof e?h.generateDomElementFromString(e):e,r=[],a=[];function s(e){var t=document.getElementById("hmrc-timeout-dialog");t&&(e.target===t||t.contains(e.target)||(e.stopPropagation(),t.focus()))}function c(e){27===e.keyCode&&(a.forEach(function(e){e()}),l())}function u(e){1===(e.touches||e.changedTouches||[]).length&&e.preventDefault()}function l(){for(;0<r.length;){r.shift()()}}return n.appendChild(o),h.hasClass("html","noScroll")||(h.addClass("html","noScroll"),r.push(function(){h.removeClass("html","noScroll")})),document.body.appendChild(n),document.body.appendChild(i),r.push(function(){h.removeElement(n),h.removeElement(i)}),d(document.querySelectorAll(["#skiplink-container","body > header","#global-cookie-message","main[role=main]","body > footer"].join(", ")),function(e){var t=e.getAttribute("aria-hidden");e.setAttribute("aria-hidden","true"),r.push(function(){t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")})}),t=document.activeElement,n.focus(),document.addEventListener("focus",s,!0),r.push(function(){document.removeEventListener("focus",s),t.focus()}),document.addEventListener("keydown",c),r.push(function(){document.removeEventListener("keydown",c)}),document.addEventListener("touchmove",u,!0),r.push(function(){document.removeEventListener("touchmove",u,!0)}),{closeDialog:function(){l()},setAriaLabelledBy:function(e){e?n.setAttribute("aria-labelledby",e):n.removeAttribute("aria-labelledby")},addCloseHandler:function(e){a.push(e)}}}};function a(e){}function v(){}function s(i){var p,o={},f={},c=[];function r(){f.signout_time=t()+1e3*f.timeout;var e=window.setTimeout(function(){!function(){var e=h.generateDomElementFromString("<div>");{var t;f.title&&(t=h.generateDomElementFromStringAndAppendText('<h1 class="govuk-heading-m push--top">',f.title),e.appendChild(t))}var n=h.generateDomElementFromString('<span id="hmrc-timeout-countdown" class="hmrc-timeout-dialog__countdown">'),i=h.generateDomElementFromString('<p id="hmrc-timeout-message" class="govuk-visually-hidden screenreader-content" aria-live="assertive">'),o=h.generateDomElementFromStringAndAppendText('<p class="govuk-body hmrc-timeout-dialog__message" aria-hidden="true">',f.message);o.appendChild(document.createTextNode(" ")),o.appendChild(n),o.appendChild(document.createTextNode(".")),f.messageSuffix&&o.appendChild(document.createTextNode(" "+f.messageSuffix));var r=h.generateDomElementFromStringAndAppendText('<button id="hmrc-timeout-keep-signin-btn" class="govuk-button">',f.keepAliveButtonText),a=h.generateDomElementFromStringAndAppendText('<a id="hmrc-timeout-sign-out-link" class="govuk-link hmrc-timeout-dialog__link">',f.signOutButtonText);r.addEventListener("click",u),a.addEventListener("click",l),a.setAttribute("href",f.signOutUrl),e.appendChild(o),e.appendChild(i),e.appendChild(r),e.appendChild(document.createTextNode(" ")),e.appendChild(function(e){var t=document.createElement("div");return t.classList.add("hmrc-timeout-dialog__link-wrapper"),t.appendChild(e),t}(a));var s=b.displayDialog(e);c.push(function(){s.closeDialog()}),s.addCloseHandler(u),s.setAriaLabelledBy("hmrc-timeout-message"),function(c,u){function l(e){var t,n=e<60?e+" "+f.properties[1!==e?"seconds":"second"]:(t=Math.ceil(e/60))+" "+f.properties[1===t?"minute":"minutes"];return n}function d(e){var t,n=l(60<(t=e)?t:t<20?20:20*Math.ceil(t/20)),i=[f.message," ",n,"."];return f.messageSuffix&&(i.push(" "),i.push(f.messageSuffix)),i.join("")}function h(e,t){e.innerText!==t&&(e.innerText=t)}!function e(){var t,n,i,o,r,a,s=Math.round(m()/1e3);n=c,i=l(t=s),o=d(t),h(n,i),h(u,o),s<=0&&v.redirectToUrl(f.timeoutUrl),p=window.setTimeout(e,(r=m(),(a=1e3*Math.floor(m()/1e3))<=6e4?r-a||1e3:r-(a-(a%6e4||6e4))))}()}(n,i)}()},1e3*(f.timeout-f.countdown));c.push(function(){window.clearTimeout(e)})}function m(){return f.signout_time-t()}function u(){e(),r(),h.ajaxGet(f.keepAliveUrl,function(){})}function t(){return Date.now()}function l(){v.redirectToUrl(f.signOutUrl)}function e(){for(;0<c.length;){c.shift()()}}return c.push(function(){p&&window.clearTimeout(p)}),{init:function(){var e=a;function t(e){return(i.attributes.getNamedItem(e)||{}).value}var n="cy"===e.string(t("data-language"))?{title:void 0,message:"Er eich diogelwch, byddwn yn eich allgofnodi cyn pen",keepAliveButtonText:"Parhau i fod wedi’ch mewngofnodi",signOutButtonText:"Allgofnodi",properties:{minutes:"funud",minute:"funud",seconds:"eiliad",second:"eiliad"}}:{title:void 0,message:"For your security, we will sign you out in",keepAliveButtonText:"Stay signed in",signOutButtonText:"Sign out",properties:{minutes:"minutes",minute:"minute",seconds:"seconds",second:"second"}};(o={timeout:e.int(t("data-timeout")),countdown:e.int(t("data-countdown")),keepAliveUrl:e.string(t("data-keep-alive-url")),signOutUrl:e.string(t("data-sign-out-url")),timeoutUrl:e.string(t("data-timeout-url")),title:e.string(t("data-title")),message:e.string(t("data-message")),messageSuffix:e.string(t("data-message-suffix")),keepAliveButtonText:e.string(t("data-keep-alive-button-text")),signOutButtonText:e.string(t("data-sign-out-button-text"))}).timeoutUrl=o.timeoutUrl||o.signOutUrl,function(t){var n=[];if(["timeout","countdown","keepAliveUrl","signOutUrl"].forEach(function(e){t.hasOwnProperty(e)&&t[e]||n.push("data-"+e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase())}),0<n.length)throw new Error("Missing config item(s): ["+n.join(", ")+"]")}(o),f=function t(n,i){var o=Object.assign({},n);Object.keys(i).forEach(function(e){"object"==typeof o[e]&&(o[e]=t(n[e],i[e])),void 0!==o[e]&&""!==o[e]||(o[e]=i[e])});return o}(o,n),r()},cleanup:e}}return a.int=function(e){var t=parseInt(e,10);return isNaN(t)?void 0:t},a.string=function(e){return e&&(""+e||void 0)},v.redirectToUrl=function(e){window.location.href=e},s.dialog=b,s.redirectHelper=v,s.utils=h,{initAll:function(){var e='[data-module="hmrc-account-menu"]';document.querySelector(e)&&new r(e).init();var t=document.querySelector('meta[name="hmrc-timeout-dialog"]');t&&new s(t).init()},AccountMenu:r,TimeoutDialog:s}});

//# sourceMappingURL=maps/hmrc-frontend-1.17.0.min.js.map
